{"remainingRequest":"/Users/tule/Code/winbo.trade/node_modules/thread-loader/dist/cjs.js!/Users/tule/Code/winbo.trade/node_modules/babel-loader/lib/index.js!/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tule/Code/winbo.trade/src/layouts/account/AccountAllMemberList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tule/Code/winbo.trade/src/layouts/account/AccountAllMemberList.vue","mtime":1650596263972},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/tule/Code/winbo.trade/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DataViewSidebar from '@/layouts/account/slidebar/DataViewSidebar.vue';\nimport vSelect from 'vue-select';\nimport AuthenticationService from '@/services/AuthenticationService';\nimport moment from 'moment';\nimport Vue from 'vue';\nimport { VTree, VSelectTree } from 'vue-tree-halower';\nexport default {\n  components: {\n    DataViewSidebar: DataViewSidebar,\n    vSelect: vSelect,\n    VTree: VTree //VSelectTree\n\n  },\n  data: function data() {\n    return {\n      tslgdCD1: 0,\n      tslgdCD2: 0,\n      tslgdCD3: 0,\n      tslgdCD4: 0,\n      treeData: [{\n        title: 'node1',\n        expanded: true,\n        children: [{\n          title: \"<span style='color: red'>node 1-1</span>\",\n          expanded: true,\n          children: [{\n            title: 'node 1-1-1'\n          }, {\n            title: 'node 1-1-2'\n          }, {\n            title: 'node 1-1-3'\n          }]\n        }, {\n          title: \"<span style='color: red'>node 1-2</span>\",\n          children: [{\n            title: \"node 1-2-1\"\n          }, {\n            title: \"node 1-2-2\"\n          }]\n        }]\n      }],\n      popupF1F7: false,\n      getAdress: '',\n      getPrivateKey: '',\n      getWfiKey: '',\n      popupAdressWallet: false,\n      UserInfo: {},\n      popupDeleteActive: false,\n      activePrompt: false,\n      selectedUser: [],\n      fileName: \"\",\n      formats: [\"xlsx\", \"csv\", \"txt\"],\n      cellAutoWidth: true,\n      selectedFormat: \"xlsx\",\n      headerTitle: [\"Id\", \"Email\", \"Nick\", \"Money\", \"Commission\", \"Date Create\"],\n      headerVal: [\"id\", \"email\", \"nickname\", \"wallet\", \"pending_commission\", \"created_at\"],\n      productsFake: [{\n        \"id\": 1,\n        \"email\": \"abc@gmail.com\",\n        \"nick_name\": \"SkyPlaza\",\n        \"first_name\": \"Ares\",\n        \"last_name\": \"BO\",\n        \"profile_image\": \"https://vi.vuejs.org/images/logo.png\",\n        \"money_vn\": 100.00,\n        \"money_btc\": 0.000000,\n        \"money_eth\": 0.0100,\n        \"money_usdt\": 1.00,\n        \"money_paypal\": 0.00,\n        \"manage_supers\": 1,\n        \"pending_commission\": 0.00,\n        \"active_2fa\": 0,\n        \"created_at\": \"00:00:00 02-04-2021\"\n      }, {\n        \"id\": 2,\n        \"email\": \"abc@gmail.com\",\n        \"nick_name\": \"SkyPlaza 3\",\n        \"first_name\": \"KK\",\n        \"last_name\": \"Ares\",\n        \"profile_image\": \"https://vi.vuejs.org/images/logo.png\",\n        \"money_vn\": 100.00,\n        \"money_btc\": 0.000000,\n        \"money_eth\": 0.0100,\n        \"money_usdt\": 1.00,\n        \"money_paypal\": 0.00,\n        \"manage_supers\": 0,\n        \"pending_commission\": 0.00,\n        \"active_2fa\": 1,\n        \"created_at\": \"01:00:00 02-04-2021\"\n      }],\n      itemsPerPage: 10,\n      isMounted: false,\n      // Data Sidebar\n      addNewDataSidebar: false,\n      sidebarData: {}\n    };\n  },\n  computed: {\n    currentPage: function currentPage() {\n      if (this.isMounted) {\n        return this.$refs.table.currentx;\n      }\n\n      return 0;\n    },\n    products: function products() {\n      return this.productsFake;\n    },\n    queriedItems: function queriedItems() {\n      return this.$refs.table ? this.$refs.table.queriedResults.length : this.productsFake.length;\n    }\n  },\n  methods: {\n    showF1F7: function showF1F7(nick, ref, email) {\n      var _this = this;\n\n      this.popupF1F7 = true;\n      this.openLoadingInDiv2();\n      this.treeData = [{\n        title: nick,\n        expanded: true,\n        children: []\n      }];\n      var obj = {\n        nick: nick,\n        ref: ref,\n        email: email\n      }; //console.log(Object.keys(test).length);\n\n      AuthenticationService.getListF1F7(obj).then(function (resp) {\n        _this.$vs.loading.close('#loading-corners2 > .con-vs-loading');\n\n        if (resp.data.success) {\n          var data = resp.data.data;\n          var _obj = resp.data.obj;\n          _this.tslgdCD1 = _obj.tslgdCD1;\n          _this.tslgdCD2 = _obj.tslgdCD2;\n          _this.tslgdCD3 = _obj.tslgdCD3;\n          _this.tslgdCD4 = _obj.tslgdCD4;\n          var c = 0;\n\n          for (var _obj2 in data) {\n            c++;\n\n            for (var i = 0; i < data[_obj2].length; i++) {\n              _this.treeData[0].children.push({\n                title: \"<span style='color: white'>C\\u1EA5p \".concat(c, \" - \").concat(data[_obj2][i].nick_name, \" - Kh\\u1ED1i l\\u01B0\\u1EE3ng Giao D\\u1ECBch: \").concat(_this.formatPrice(data[_obj2][i].tklgd, 2), \"</span> - T\\u1ED5ng ti\\u1EC1n n\\u1EA1p: \").concat(_this.formatPrice(data[_obj2][i].amt, 2))\n              });\n            }\n          }\n        }\n      });\n    },\n    openLoadingInDiv2: function openLoadingInDiv2() {\n      this.$vs.loading({\n        container: '#loading-corners2',\n        type: 'corners',\n        scale: 0.6\n      });\n    },\n    openLoadingInDiv: function openLoadingInDiv() {\n      this.$vs.loading({\n        container: '#loading-corners',\n        type: 'corners',\n        scale: 0.6\n      });\n    },\n    changeAccType: function () {\n      var _changeAccType = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(tr) {\n        var id, v, obj, resp;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                id = tr.id, v = tr.v;\n                obj = {\n                  id: id,\n                  type: v ? 0 : 1\n                };\n                _context.next = 4;\n                return AuthenticationService.changeAccMarketing(obj);\n\n              case 4:\n                resp = _context.sent;\n\n                if (!(resp.data.success === -1)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                tr.marketing = false;\n                return _context.abrupt(\"return\", this.$vs.notify({\n                  text: resp.data.message,\n                  color: 'warning',\n                  iconPack: 'feather',\n                  icon: 'icon-check'\n                }));\n\n              case 10:\n                if (!resp.data.success) {\n                  _context.next = 14;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$vs.notify({\n                  text: 'Đã thay đổi thành công tài khoản!',\n                  color: 'success',\n                  iconPack: 'feather',\n                  icon: 'icon-check'\n                }));\n\n              case 14:\n                localStorage.removeItem('token');\n                this.$router.push('/pages/login').catch(function () {});\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeAccType(_x) {\n        return _changeAccType.apply(this, arguments);\n      }\n\n      return changeAccType;\n    }(),\n    clickGetAddress: function clickGetAddress(a, p, w) {\n      this.popupAdressWallet = true;\n\n      if (w != '') {\n        this.getWfiKey = w;\n      } else {\n        this.getWfiKey = 'N/A';\n      }\n\n      this.getAdress = a;\n      this.getPrivateKey = p;\n    },\n    onCopy: function onCopy() {\n      this.$vs.notify({\n        text: 'Đã sao chép vào bộ nhớ',\n        color: 'success',\n        iconPack: 'feather',\n        position: 'top-center',\n        icon: 'icon-check-circle'\n      });\n    },\n    deleteMultiple: function deleteMultiple() {\n      for (var i = this.selectedUser.length - 1; i >= 0; i--) {\n        var id = this.selectedUser[i]['id'];\n        AuthenticationService.deleteMember(id);\n        Vue.delete(this.productsFake, i);\n      }\n\n      this.selectedUser = [];\n      return this.$vs.notify({\n        text: 'Đã xóa thành công',\n        color: 'success',\n        iconPack: 'feather',\n        icon: 'icon-check'\n      });\n    },\n    openPopDelete: function openPopDelete(data) {\n      this.UserInfo = data;\n      this.popupDeleteActive = true;\n    },\n    deleteUser: function deleteUser(id, index) {\n      var _this2 = this;\n\n      var token = localStorage.getItem('token');\n      this.$store.dispatch('setToken', token);\n      AuthenticationService.deleteMember(id).then(function (resp) {\n        if (resp.data.success) {\n          Vue.delete(_this2.productsFake, index);\n          _this2.popupDeleteActive = false;\n          return _this2.$vs.notify({\n            text: 'Đã xóa thành công',\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-check'\n          });\n        } else {\n          localStorage.removeItem('token');\n\n          _this2.$router.push('/pages/login').catch(function () {});\n        }\n      });\n    },\n    formatPrice: function formatPrice(value, minimum) {\n      var formatter = new Intl.NumberFormat('en-US', {\n        //style: 'currency',\n        //currency: '',\n        minimumFractionDigits: minimum\n      });\n      return formatter.format(value);\n    },\n    formatDate: function formatDate(value) {\n      if (value) {\n        return moment(String(value)).format('MM/DD/YYYY hh:mm:ss');\n      }\n    },\n    addMoneyUser: function addMoneyUser(data) {\n      data[\"type\"] = 'addMoney';\n      this.sidebarData = data;\n      this.toggleDataSidebar(true);\n    },\n    addNewAccount: function addNewAccount() {\n      this.sidebarData = {};\n      this.toggleDataSidebar(true);\n    },\n    editUser: function editUser(data) {\n      delete data[\"type\"]; // this.sidebarData = JSON.parse(JSON.stringify(this.blankData))\n\n      this.sidebarData = data;\n      this.toggleDataSidebar(true);\n    },\n    getOrderStatusColor: function getOrderStatusColor(status) {\n      if (status == 0) return \"warning\";\n      if (status == 1) return \"success\"; //if(status == 2) return \"danger\"\n\n      return \"warning\";\n    },\n    getOrderStatusColorText: function getOrderStatusColorText(status) {\n      if (status == 0) return \"Chưa bật\";\n      if (status == 1) return \"Đã bật\"; //if(status == 2) return \"danger\"\n\n      return \"Chưa bật\";\n    },\n    toggleDataSidebar: function toggleDataSidebar() {\n      var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      this.addNewDataSidebar = val;\n    },\n    // export ra file\n    exportToExcel: function exportToExcel() {\n      var _this3 = this;\n\n      // kiểm tra nếu chưa chọn đối tượng thình sẽ không hiện bản xuất file\n      if (this.selectedUser.length == 0) {\n        return this.$vs.notify({\n          title: 'Xuất dữ liệu',\n          text: 'Vui lòng chọn nội dung để hoàn thành',\n          color: 'danger',\n          iconPack: 'feather',\n          icon: 'icon-heart'\n        });\n      }\n\n      import('@/vendor/Export2Excel').then(function (excel) {\n        var list = _this3.selectedUser;\n\n        var data = _this3.formatJson(_this3.headerVal, list);\n\n        excel.export_json_to_excel({\n          header: _this3.headerTitle,\n          data: data,\n          filename: _this3.fileName,\n          autoWidth: _this3.cellAutoWidth,\n          bookType: _this3.selectedFormat\n        });\n\n        _this3.clearFields();\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          // Add col name which needs to be translated\n          // if (j === 'timestamp') {\n          //   return parseTime(v[j])\n          // } else {\n          //   return v[j]\n          // }\n          return v[j];\n        });\n      });\n    },\n    clearFields: function clearFields() {\n      this.fileName = \"\";\n      this.cellAutoWidth = true;\n      this.selectedFormat = \"xlsx\";\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    // if(!moduleDataList.isRegistered) {\n    //   this.$store.registerModule('dataList', moduleDataList)\n    //   moduleDataList.isRegistered = true\n    // }\n    //this.$store.registerModule('dataList', this.productsFake);\n    //this.$store.dispatch(\"dataList/fetchDataListItems\")\n    //console.log(this.$store.state.dataList);\n    var token = localStorage.getItem('token');\n    this.$store.dispatch('setToken', token);\n    AuthenticationService.getAllMember().then(function (resp) {\n      _this4.$vs.loading.close('#loading-corners > .con-vs-loading');\n\n      if (resp.data.success == 4) {\n        localStorage.removeItem('token');\n\n        _this4.$router.push('/pages/login').catch(function () {});\n      } else {\n        _this4.productsFake = resp.data.data;\n      }\n    });\n  },\n  mounted: function mounted() {\n    this.isMounted = true;\n    this.openLoadingInDiv();\n  }\n};",null]}