{"remainingRequest":"/Users/tule/Code/winbo.trade/node_modules/thread-loader/dist/cjs.js!/Users/tule/Code/winbo.trade/node_modules/babel-loader/lib/index.js!/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tule/Code/winbo.trade/src/pages/trade/slidebar/2FAGoogle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tule/Code/winbo.trade/src/pages/trade/slidebar/2FAGoogle.vue","mtime":1649894645188},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AuthenticationService from '@/services/AuthenticationService';\nimport getData from '@/pages/trade/navbar/components/data.json';\nexport default {\n  data: function data() {\n    return {\n      isActive2FA: false,\n      disSendCode: false,\n      MSLuu: '',\n      linkBase64Img: '',\n      code2FA: '',\n      codeActive: '',\n      passwordSend: '',\n      ssDownSend: 'Gửi mã',\n      backgroundLoading: 'primary',\n      colorLoading: '#fff'\n    };\n  },\n  methods: {\n    copyMSL: function copyMSL() {\n      var thisIns = this;\n      this.$copyText(this.MSLuu).then(function () {\n        thisIns.$vs.notify({\n          text: 'Đã sao chép vào bộ nhớ',\n          color: 'success',\n          iconPack: 'feather',\n          position: 'top-right',\n          icon: 'icon-check-circle'\n        });\n      }, function () {\n        thisIns.$vs.notify({\n          text: 'Lỗi sao chép',\n          color: 'danger',\n          iconPack: 'feather',\n          position: 'top-right',\n          icon: 'icon-alert-circle'\n        });\n      });\n    },\n    sendCodeSecure: function sendCodeSecure() {\n      var _this = this;\n\n      this.disSendCode = true;\n      this.$vs.loading({\n        //background: this.backgroundLoading,\n        color: this.colorLoading,\n        container: \"#button-with-loading\",\n        scale: 0.45\n      });\n      var giay = 60;\n      var countD = setInterval(function () {\n        _this.ssDownSend = giay + 's';\n\n        if (giay == 0) {\n          giay = 60;\n          _this.disSendCode = false;\n\n          _this.$vs.loading.close(\"#button-with-loading > .con-vs-loading\");\n\n          _this.ssDownSend = 'Gửi mã';\n          clearInterval(countD);\n        }\n\n        giay--;\n      }, 1000);\n      this.Send2FACode();\n      return;\n    },\n    Send2FACode: function Send2FACode() {\n      AuthenticationService.sendGG2FA();\n      return this.$vs.notify({\n        text: 'Đã gửi mã xác nhận.',\n        iconPack: 'feather',\n        icon: 'icon-check',\n        position: 'top-right',\n        color: 'success'\n      });\n    },\n    clickVerify: function clickVerify() {\n      var _this2 = this;\n\n      var secret = this.MSLuu;\n\n      if (secret == '' || this.code2FA == '' || this.codeActive == '' || this.passwordSend == '') {\n        return this.$vs.notify({\n          text: 'Các trường không được rỗng.',\n          iconPack: 'feather',\n          icon: 'icon-check',\n          position: 'top-right',\n          color: 'danger'\n        });\n      }\n\n      var obj = {\n        s: secret,\n        t: this.code2FA,\n        c: this.codeActive,\n        p: this.passwordSend\n      };\n      AuthenticationService.activeGG2FA(obj).then(function (res) {\n        if (res.data.success == 1) {\n          _this2.code2FA = '';\n          _this2.codeActive = '';\n          _this2.passwordSend = '';\n          getData.c2fa = 1;\n          _this2.isActive2FA = true;\n          return _this2.$vs.notify({\n            text: 'Bật Google 2FA thành công.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'success'\n          });\n        } else if (res.data.success == 0) {\n          return _this2.$vs.notify({\n            text: 'Sai mật khẩu hoặc mã xác nhận.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'danger'\n          });\n        } else if (res.data.success == 2) {\n          return _this2.$vs.notify({\n            text: 'Mã 2FA không chính xác.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'danger'\n          });\n        } else if (res.data.success == 4) {\n          localStorage.removeItem('INFO');\n          localStorage.removeItem('tokenUser');\n          window.location.href = window.location.origin + '/login';\n        }\n      });\n    },\n    clickUnVerify: function clickUnVerify() {\n      var _this3 = this;\n\n      if (this.code2FA == '' || this.codeActive == '' || this.passwordSend == '') {\n        return this.$vs.notify({\n          text: 'Các trường không được rỗng.',\n          iconPack: 'feather',\n          icon: 'icon-check',\n          position: 'top-right',\n          color: 'danger'\n        });\n      }\n\n      var obj = {\n        t: this.code2FA,\n        c: this.codeActive,\n        p: this.passwordSend\n      };\n      AuthenticationService.unActiveGG2FA(obj).then(function (res) {\n        if (res.data.success == 1) {\n          _this3.code2FA = '';\n          _this3.codeActive = '';\n          _this3.passwordSend = '';\n          getData.c2fa = 0;\n          _this3.isActive2FA = false; //khởi tạo lại 2FA\n\n          _this3.createQRCode2FA();\n\n          return _this3.$vs.notify({\n            text: 'Tắt Google 2FA thành công.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'success'\n          });\n        } else if (res.data.success == 0) {\n          return _this3.$vs.notify({\n            text: 'Sai mật khẩu hoặc mã xác nhận.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'danger'\n          });\n        } else if (res.data.success == 2) {\n          return _this3.$vs.notify({\n            text: 'Mã 2FA không chính xác.',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            position: 'top-right',\n            color: 'danger'\n          });\n        } else if (res.data.success == 4) {\n          localStorage.removeItem('INFO');\n          localStorage.removeItem('tokenUser');\n          window.location.href = window.location.origin + '/login';\n        }\n      });\n    },\n    createQRCode2FA: function createQRCode2FA() {\n      var _this4 = this;\n\n      AuthenticationService.createGG2FA().then(function (res) {\n        if (res.data.success) {\n          _this4.MSLuu = res.data.s;\n          _this4.linkBase64Img = res.data.qr;\n        }\n\n        if (res.data.success == 4) {\n          localStorage.removeItem('INFO');\n          localStorage.removeItem('tokenUser');\n          window.location.href = window.location.origin + '/login';\n        }\n      });\n    }\n  },\n  created: function created() {\n    if (!getData.c2fa) {\n      this.createQRCode2FA();\n    } else {\n      this.isActive2FA = true;\n    }\n  }\n};",null]}