{"remainingRequest":"/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tule/Code/winbo.trade/src/layouts/tool/Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tule/Code/winbo.trade/src/layouts/tool/Setting.vue","mtime":1649894014954},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tule/Code/winbo.trade/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tule/Code/winbo.trade/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n\r\nimport SETTINGS from '../../../settings.json'\r\n\r\nexport default {\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      cnSv: 0,\r\n\r\n      checkOnOffAutoQuote: true,\r\n      radioBC: 'payeer',\r\n      settingJson: {\r\n      \r\n        min_d_paypal: 5,\r\n        min_d_btc: 0.001,\r\n        min_d_eth: 0.02,\r\n        min_d_usdt: 5,\r\n\r\n        min_w_paypal: 5,\r\n        min_w_btc: 0.001,\r\n        min_w_eth: 0.02,\r\n        min_w_usdt: 5,\r\n\r\n        fee_w_paypal_nb: 0, // phí rút về tài khoản trong hệ thống\r\n        fee_w_paypal_acc: 2, // phí rút về tài khoản trong paypal\r\n\r\n        fee_w_btc_nb: 0, // phí rút về tài khoản BTC trong hệ thống\r\n        fee_w_btc_acc: 0.0003, // phí rút về tài khoản BTC sàn\r\n\r\n        fee_w_eth_nb: 0, // phí rút về tài khoản ETH sàn\r\n        fee_w_eth_ERC20: 0.001, // phí rút về tài khoản ETH sàn\r\n\r\n        fee_w_usdt_nb: 0, // phí rút về tài khoản USDT trong hệ thống\r\n        fee_w_usdt_BEP20: 1, // phí rút về tài khoản USDT trong hệ thống\r\n        fee_w_usdt_ERC20: 2, // phí rút về tài khoản USDT sàn\r\n\r\n        default_wallet_sys: 'usdt',\r\n        default_netw_pay: 'tn',\r\n\r\n        show_wallet_paypal: true,\r\n        show_wallet_btc: false,\r\n        show_wallet_eth: false,\r\n        show_wallet_usdt: false,\r\n        show_wallet_vnd: false,\r\n          \r\n        timeLoopUpdateQuote: 30, // thời gian mỗi giây cập nhập giá USD sấp sĩ coin\r\n        quote_USD_USDT: 1,\r\n        quote_USD_BTC: 1,\r\n        quote_USD_ETH: 1,\r\n        quote_USD_PAYPAL: 1,\r\n        quote_USD_VND: 1,\r\n\r\n        TELEGRAM_TOKEN: '',\r\n        TELEGRAM_BET_ID: '',\r\n        TELEGRAM_RUT_ID: '',\r\n        TELEGRAM_NAP_ID: '',\r\n        TELEGRAM_BET_AMOUNT: '',\r\n        TELEGRAM_BET_THONG_BAO: '',\r\n        TELEGRAM_BET_PHIM_LENH: '',\r\n\r\n        ADDRESS_ETH_USDT: '',\r\n        PRIVATE_KEY_ADDRESS_ETH_USDT: '',\r\n        ADDRESS_ETH_TRANSACTION: '',\r\n        PRIVATE_KEY_ETH_TRANSACTION: '',\r\n\r\n\r\n        maintenance: false // bảo trì\r\n\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    activeNTB(){\r\n      if(this.settingJson.teleChatIDBet == ''){\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    },\r\n    activeNTF(){\r\n      if(this.settingJson.teleChatID == '' || this.settingJson.teleToken == ''){\r\n          return false\r\n      }else{\r\n          return true\r\n      }\r\n       \r\n    }\r\n  },\r\n  methods: {\r\n\r\n      formatPrice(value, minimum) {\r\n        var formatter = new Intl.NumberFormat('en-US', {\r\n            //style: 'currency',\r\n            //currency: '',\r\n            minimumFractionDigits: minimum\r\n        });\r\n        return formatter.format(value);\r\n      },\r\n\r\n      changeActiveBaoTri(event){\r\n        let o = event.target.checked\r\n        this.settingJson.maintenance = o\r\n      },\r\n\r\n      changeWallet(val, event){\r\n        let o = event.target.checked\r\n        switch(val){\r\n          case 'usdt':\r\n            this.settingJson.show_wallet_usdt = o\r\n            break\r\n          case 'btc':\r\n            this.settingJson.show_wallet_btc = o\r\n            break\r\n          case 'eth':\r\n            this.settingJson.show_wallet_eth = o\r\n            break\r\n          case 'paypal':\r\n            this.settingJson.show_wallet_paypal = o\r\n            break\r\n          case 'vnd':\r\n            this.settingJson.show_wallet_vnd = o\r\n            break\r\n        }\r\n\r\n      },\r\n\r\n      clickSubmitSetting(){\r\n        let obj = {\r\n\r\n                qUSDT: this.settingJson.quote_USD_USDT,\r\n                qETH: this.settingJson.quote_USD_ETH,\r\n                qBTC: this.settingJson.quote_USD_BTC,\r\n                qPaypal: this.settingJson.quote_USD_PAYPAL,\r\n                qVND: this.settingJson.quote_USD_VND,\r\n\r\n                tCUseSys: this.settingJson.default_wallet_sys.toLowerCase(),\r\n\r\n                mDBTC: this.settingJson.min_d_btc,\r\n                mDETH: this.settingJson.min_d_eth,\r\n                mDUSDT: this.settingJson.min_d_usdt,\r\n                mDPaypal: this.settingJson.min_d_paypal,\r\n\r\n                mWBTC: this.settingJson.min_w_btc,\r\n                mWETH: this.settingJson.min_w_eth,\r\n                mWUSDT: this.settingJson.min_w_usdt,\r\n                mWPaypal: this.settingJson.min_w_paypal,\r\n\r\n                iAWPaypal: this.settingJson.show_wallet_paypal,\r\n                iAWETH: this.settingJson.show_wallet_eth,\r\n                iAWUSDT: this.settingJson.show_wallet_usdt,\r\n                iAWBTC: this.settingJson.show_wallet_btc,\r\n                iAWVND: this.settingJson.show_wallet_vnd,\r\n\r\n                fDPaypalNB: this.settingJson.fee_w_paypal_nb,\r\n                fDPaypalAcc: this.settingJson.fee_w_paypal_acc,\r\n                fDBTCNB: this.settingJson.fee_w_btc_nb,\r\n                fDBTCAcc: this.settingJson.fee_w_btc_acc,\r\n                fDETHNB: this.settingJson.fee_w_eth_nb,\r\n                fDETHERC20: this.settingJson.fee_w_eth_ERC20,\r\n                fDUSDTNB: this.settingJson.fee_w_usdt_nb,\r\n                fDUSDTBEP20: this.settingJson.fee_w_usdt_BEP20,\r\n                fDUSDTERC20: this.settingJson.fee_w_eth_ERC20,\r\n\r\n                TELEGRAM_TOKEN: this.settingJson.TELEGRAM_TOKEN,\r\n                TELEGRAM_BET_ID: this.settingJson.TELEGRAM_BET_ID,\r\n                TELEGRAM_RUT_ID: this.settingJson.TELEGRAM_RUT_ID,\r\n                TELEGRAM_NAP_ID: this.settingJson.TELEGRAM_NAP_ID,\r\n                TELEGRAM_BET_AMOUNT: this.settingJson.TELEGRAM_BET_AMOUNT,\r\n                TELEGRAM_BET_THONG_BAO: this.settingJson.TELEGRAM_BET_THONG_BAO,\r\n                TELEGRAM_BET_PHIM_LENH: this.settingJson.TELEGRAM_BET_PHIM_LENH,\r\n\r\n                ADDRESS_ETH_USDT: this.settingJson.ADDRESS_ETH_USDT,\r\n                PRIVATE_KEY_ADDRESS_ETH_USDT:  this.settingJson.PRIVATE_KEY_ADDRESS_ETH_USDT,\r\n                ADDRESS_ETH_TRANSACTION:  this.settingJson.ADDRESS_ETH_TRANSACTION,\r\n                PRIVATE_KEY_ETH_TRANSACTION:  this.settingJson.PRIVATE_KEY_ETH_TRANSACTION,\r\n                IS_TEST_SMART_CHAIN: this.settingJson.default_netw_pay == 'tn' ? true : false,\r\n\r\n                timeLoopQuote: this.settingJson.timeLoopUpdateQuote,\r\n                autoQuote: this.settingJson.checkOnOffAutoQuote,\r\n\r\n                maintenance: this.settingJson.maintenance,\r\n\r\n            }\r\n\r\n            this.sendMessage({type: 'setDataSys', data: obj})\r\n      },\r\n\r\n      sendMessage(message) {\r\n        this.connection.send(JSON.stringify(message));\r\n        return this.$vs.notify({\r\n                text:'Đã cập nhật hệ thống',\r\n                color:'success',\r\n                position:'top-right',\r\n                iconPack: 'feather',\r\n                icon:'icon-message-square'\r\n              });\r\n      },\r\n\r\n      connectSever(){\r\n        var _this = this\r\n\r\n        this.connection = new WebSocket(SETTINGS.BASE_URL_SOCKET_SYS)\r\n\r\n        this.connection.onopen = function() {\r\n            console.log(\"Successfully connected to the echo websocket server systems...\")\r\n        }\r\n\r\n        this.connection.onclose = function() {\r\n          if(_this.cnSv == 0){\r\n             _this.$vs.notify({\r\n                text:'Không kết nối được tới máy chủ. Sẽ kết nối lại sau 5 giây',\r\n                color:'danger',\r\n                position:'top-right',\r\n                iconPack: 'feather',\r\n                icon:'icon-message-square'\r\n              });\r\n          }else{\r\n             _this.$vs.notify({\r\n                text:'Đang kết nối lại lần ' + _this.cnSv,\r\n                color:'danger',\r\n                position:'top-right',\r\n                iconPack: 'feather',\r\n                icon:'icon-message-square'\r\n              });\r\n          }\r\n\r\n          if(_this.cnSv == 6){\r\n            _this.$vs.notify({\r\n                text:'Kết nối thất bại. Vui lòng kiểm tra và bật lại máy chủ',\r\n                color:'danger',\r\n                position:'top-right',\r\n                iconPack: 'feather',\r\n                icon:'icon-message-square'\r\n              });\r\n          }\r\n\r\n          //console.log('Socket is closed. Reconnect will be attempted in 5 second.', e.reason);\r\n          if(_this.cnSv <= 5){\r\n            setTimeout(() => {\r\n              _this.connectSever();\r\n              _this.cnSv++\r\n            }, 5000);\r\n          }\r\n\r\n          \r\n\r\n        }\r\n\r\n        // _this.connection.onerror = function(err) {\r\n        //   //console.error('Socket encountered error: ', err.message, 'Closing socket');\r\n        //    _this.$vs.notify({\r\n        //         text:'Kết nối máy chủ thất bại.',\r\n        //         color:'danger',\r\n        //         position:'top-right',\r\n        //         iconPack: 'feather',\r\n        //         icon:'icon-message-square'\r\n        //       });\r\n        //   _this.connection.close();\r\n        // };\r\n\r\n        this.connection.onmessage = function(event) {\r\n\r\n            let data = JSON.parse(event.data)\r\n            let dl = data.data\r\n   \r\n            if(data.type === 'getDataSys'){\r\n\r\n                _this.settingJson.min_d_paypal = dl.minDepositPaypal\r\n                _this.settingJson.min_d_btc = dl.minDepositBTC\r\n                _this.settingJson.min_d_eth = dl.minDepositETH\r\n                _this.settingJson.min_d_usdt = dl.minDepositUSDT\r\n\r\n                _this.settingJson.min_w_paypal = dl.minWithdrawalPaypal\r\n                _this.settingJson.min_w_btc = dl.minWithdrawalBTC\r\n                _this.settingJson.min_w_eth = dl.minWithdrawalETH\r\n                _this.settingJson.min_w_usdt = dl.minWithdrawalUSDT\r\n\r\n                _this.settingJson.fee_w_paypal_nb = dl.feeRutPaypalNoiBo // phí rút về tài khoản trong hệ thống\r\n                _this.settingJson.fee_w_paypal_acc = dl.feeRutPaypalAcc // phí rút về tài khoản trong paypal\r\n\r\n                _this.settingJson.fee_w_btc_nb = dl.feeRutBTCNoiBo // phí rút về tài khoản BTC trong hệ thống\r\n                _this.settingJson.fee_w_btc_acc = dl.feeRutBTCAcc // phí rút về tài khoản BTC sàn\r\n\r\n                _this.settingJson.fee_w_eth_nb = dl.feeRutETHNoiBo // phí rút về tài khoản ETH sàn\r\n                _this.settingJson.fee_w_eth_ERC20 = dl.feeRutETHERC20 // phí rút về tài khoản ETH sàn\r\n\r\n                _this.settingJson.fee_w_usdt_nb = dl.feeRutUSDTNoiBo // phí rút về tài khoản USDT trong hệ thống\r\n                _this.settingJson.fee_w_usdt_BEP20 = dl.feeRutUSDTBEP20 // phí rút về tài khoản USDT trong hệ thống\r\n                _this.settingJson.fee_w_eth_ERC20 = dl.feeRutUSDTERC20 // phí rút về tài khoản USDT sàn\r\n\r\n                _this.settingJson.default_wallet_sys = dl.typeCurrUseSys.toLowerCase()\r\n\r\n                _this.settingJson.show_wallet_paypal = dl.isActiveWalletPaypal\r\n                _this.settingJson.show_wallet_vnd = dl.isActiveWalletVND\r\n                _this.settingJson.show_wallet_btc = dl.isActiveWalletBTC\r\n                _this.settingJson.show_wallet_eth = dl.isActiveWalletETH\r\n                _this.settingJson.show_wallet_usdt = dl.isActiveWalletUSDT\r\n                \r\n                _this.settingJson.timeLoopUpdateQuote = dl.timeLoop\r\n                _this.checkOnOffAutoQuote = dl.autoQuoteSet\r\n\r\n                _this.settingJson.quote_USD_BTC = dl.quotePriceBTC\r\n                _this.settingJson.quote_USD_ETH = dl.quotePriceETH\r\n                _this.settingJson.quote_USD_USDT = dl.quotePriceUSDT\r\n                _this.settingJson.quote_USD_PAYPAL = dl.quotePricePAYPAL\r\n                _this.settingJson.quote_USD_VND = dl.quotePriceVND\r\n\r\n                _this.settingJson.TELEGRAM_TOKEN = dl.TELEGRAM_TOKEN;\r\n                _this.settingJson.TELEGRAM_BET_ID = dl.TELEGRAM_BET_ID;\r\n                _this.settingJson.TELEGRAM_RUT_ID = dl.TELEGRAM_RUT_ID;\r\n                _this.settingJson.TELEGRAM_NAP_ID = dl.TELEGRAM_NAP_ID;\r\n                _this.settingJson.TELEGRAM_BET_AMOUNT = dl.TELEGRAM_BET_AMOUNT;\r\n                _this.settingJson.TELEGRAM_BET_THONG_BAO = dl.TELEGRAM_BET_THONG_BAO;\r\n                _this.settingJson.TELEGRAM_BET_PHIM_LENH = dl.TELEGRAM_BET_PHIM_LENH;\r\n\r\n                _this.settingJson.ADDRESS_ETH_USDT = dl.ADDRESS_ETH_USDT\r\n                _this.settingJson.PRIVATE_KEY_ADDRESS_ETH_USDT =  dl.PRIVATE_KEY_ADDRESS_ETH_USDT\r\n                _this.settingJson.ADDRESS_ETH_TRANSACTION =  dl.ADDRESS_ETH_TRANSACTION\r\n                _this.settingJson.PRIVATE_KEY_ETH_TRANSACTION =  dl.PRIVATE_KEY_ETH_TRANSACTION\r\n                _this.settingJson.default_netw_pay = dl.IS_TEST_SMART_CHAIN == true ? 'tn' : 'ct'\r\n\r\n                _this.settingJson.maintenance = dl.maintenance\r\n\r\n            }\r\n\r\n        }\r\n      }\r\n  },\r\n  created() {\r\n    // if(!moduleDataList.isRegistered) {\r\n    //   this.$store.registerModule('dataList', moduleDataList)\r\n    //   moduleDataList.isRegistered = true\r\n    // }\r\n\r\n    //this.$store.registerModule('dataList', this.productsFake);\r\n    \r\n    //this.$store.dispatch(\"dataList/fetchDataListItems\")\r\n    //console.log(this.productsFake);\r\n    //console.log(this.$store.state.dataList);\r\n    \r\n\r\n  },\r\n  mounted() {\r\n    this.isMounted = true;\r\n    \r\n    this.connectSever()\r\n  }\r\n}\r\n",null]}